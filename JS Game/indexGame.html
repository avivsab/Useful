<html>

    <head>
        
        <title>Speed Game</title>
        <link rel="stylesheet" href="style.css">
    
    </head>

    <body>
        <header>
        <h1>Speed Test</h1>       
        <p>Click on the shapes quickly as possible</p>
        <button onclick="startGame()">START NEW GAME</button>       
        <p class="bold">Your time: <span id="timeTaken"></span></p>
        <section id="toMuchTime">Click the shape!!</section>
    </header>
        <div id="playGround">
        <div id="shape"></div>
    </div>
        
        <script type="text/javascript">
            function startGame(){
            var start = new Date().getTime();
            
            function getRandomColor() {
                
                var letters = '0123456789ABCDEF'.split('');    
                var color = '#';    
                for (var i = 0; i < 6; i++ ) {        
                    color += letters[Math.floor(Math.random() * 16)];
                    console.log(color);
                }   
                return color;

            }
            
            function makeShapeAppear() {
                                                            
                var top = Math.random() * 400;                
                var left = Math.random() * 700;                
                var width = (Math.random() * 100)+20;
                
                if (Math.random() > 0.7) {
                    
                    document.getElementById("shape").style.borderRadius = "50%";
                    
                } else if(Math.random()>0.3){
                    
                    document.getElementById("shape").style.borderRadius = "0";
                    
                }else{
                    document.getElementById("shape").style.borderRadius = "20%";
                }
                
                document.getElementById("shape").style.backgroundColor = getRandomColor();                
                document.getElementById("shape").style.width = width + Math.random()*100 + "px";                
                document.getElementById("shape").style.height = (Math.random())* width + 30+ "px";                
                document.getElementById("shape").style.top = top + "px";                
                document.getElementById("shape").style.left = left + "px";    
                document.getElementById("shape").style.display = "block";
                start = new Date().getTime();

            }

    var time =  setTimeout(() => {document.getElementById('toMuchTime').style.color = "rgb(226, 105, 105)"},1000); 
               
            function appearAfterDelay() {
                document.getElementById('toMuchTime').style.color = 'transparent';
                setTimeout(makeShapeAppear, Math.random() * 100);
         
            }
            
            appearAfterDelay();
            
            document.getElementById("shape").onclick = function() {
                clearTimeout(time);                
                document.getElementById("shape").style.display = "none";                
                var end = new Date().getTime();               
                var timeTaken = (end - start) / 1000;                               
                document.getElementById("timeTaken").innerHTML = timeTaken + "s";

                    function colorByTime(){
                    if (timeTaken>2){
                    document.getElementById("timeTaken").style.color = 'red'; 
                    document.getElementById('toMuchTime').style.color = "rgb(226, 105, 105)";
                    document.getElementById('toMuchTime').innerText = 'You need to do it faster..'   
                     };   
                        if (timeTaken>1 && timeTaken<2 ){
                    document.getElementById("timeTaken").style.color = 'yellow';
                    document.getElementById('toMuchTime').style.color ='yellow';
                    document.getElementById('toMuchTime').innerText = 'Nice..';    
                     };
                        if (timeTaken<1){
                    document.getElementById("timeTaken").style.color = 'greenyellow';
                    document.getElementById('toMuchTime').style.color ='green';
                    document.getElementById('toMuchTime').innerText = 'Good!';    
                        };
                    }
                
                
                appearAfterDelay();
                colorByTime();
            }
        
        }
        </script>
        
    </body>

</html>
